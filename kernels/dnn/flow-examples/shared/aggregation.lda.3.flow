<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
     shared/aggregation.lda.3.flow $Rev: 330 $

     (c) 2008 by RWTH Aachen University
     rwthasr@i6.informatik.rwth-aachen.de
     You can redistribute this file and/or modify it under the terms of the
     RWTH ASR License
     <http://www-i6.informatik.rwth-aachen.de/rwth-asr/rwth-asr-license.html>
-->
<network>
  <out name="features"/>

  <param name="input-file"/>
  <param name="start-time"/>
  <param name="end-time"/>
  <param name="track"/>

  <param name="speaker"/>

  <node name="samples" filter="samples.flow"
	input-file="$(input-file)" start-time="$(start-time)" end-time="$(end-time)" track="$(track)"/>

  <node name="feature-extraction-1" filter="$(file)"
	ignore-unknown-parameters="true"
	start-time="$(start-time)" end-time="$(end-time)" speaker="$(speaker)"/>
  <link from="samples:out" to="feature-extraction-1:samples"/>

  <node name="lda-1" filter="lda.flow"/>
  <link from="feature-extraction-1:out" to="lda-1:in"/>

  <node name="feature-extraction-2" filter="$(file)"
	ignore-unknown-parameters="true"
	start-time="$(start-time)" end-time="$(end-time)" speaker="$(speaker)"/>
  <link from="samples:out" to="feature-extraction-2:samples"/>

  <node name="lda-2" filter="lda.flow"/>
  <link from="feature-extraction-2:out" to="lda-2:in"/>

  <node name="synchronization-2" filter="signal-repeating-frame-prediction"/>
  <link from="lda-1:out" to="synchronization-2:target"/>
  <link from="lda-2:out" to="synchronization-2"/>

  <node name="feature-extraction-3" filter="$(file)"
	ignore-unknown-parameters="true"
	start-time="$(start-time)" end-time="$(end-time)" speaker="$(speaker)"/>
  <link from="samples:out" to="feature-extraction-3:samples"/>

  <node name="lda-3" filter="lda.flow"/>
  <link from="feature-extraction-3:out" to="lda-3:in"/>

  <node name="synchronization-3" filter="signal-repeating-frame-prediction"/>
  <link from="lda-1:out" to="synchronization-3:target"/>
  <link from="lda-3:out" to="synchronization-3"/>

  <node name="aggregation" filter="generic-aggregation-vector-f32"
	check-same-length="true"/>
  <link from="lda-1:out" to="aggregation:1"/>
  <link from="synchronization-2" to="aggregation:2"/>
  <link from="synchronization-3" to="aggregation:3"/>
  <link from="aggregation" to="network:features"/>
</network>
